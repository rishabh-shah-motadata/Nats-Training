server_name: "nats-1"
port: 4222
http_port: 8222

# JetStream Configuration with DOMAIN
jetstream {
    enabled: true
    store_dir: /data/jetstream
    max_memory_store: 1GB
    max_file_store: 10GB
    domain: hub
}

# Accounts Configuration
accounts {
    APP: {
        jetstream: enabled
        users: [{user: "app", password: "app"}]
    }
    
    # System account
    SYS: {
        users: [{user: "sys", password: "syspass"}]
    }
}

# Set SYS as the system account
system_account: SYS

# Cluster Configuration
cluster {
    name: "core-cluster"
    port: 6222
    routes: [
        nats://nats-2:6223,
        nats://nats-3:6224
    ]
}

# Leafnode Configuration
leafnodes {
    port: 7422
}

debug: true
trace: true
logtime: true